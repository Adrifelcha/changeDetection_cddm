---
title: "Change detection task - Data description"
author: "Adriana F. Chavez"
date: "`r Sys.Date()`"
output:
  rmdformats::robobook:
    self_contained: true
    thumbnails: true
    lightbox: true
    gallery: true
    highlight: tango
    fig_width: 10 
    fig_height: 5 
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(rmdformats)
```

# Task description:

**Task set-up:** An image of planet Earth surrounded by a dotted orbit was presented at the center of the screen. On every trial, a spaceship would appear somewhere along the orbit, with it's trial-specific position being sampled from a given Normal distribution with some mean and standard deviation.

**Instruction:** Participants were instructed to predict the position of the spaceship on the next trial by clicking the predicted location along the orbit.

**Trial description** The spaceship appeared for half a second somewhere along the drawn orbit before disappearing. Participants had then to input their prediction of the location of the spaceship on the next trial by clicking somewhere along the orbit (no time constraint).

<!-- > ''... participants were required to predict the future position of a spaceship moving around planet Earth along a specified orbit (...) Its location was given in radians (rad) using the center of the orbit as reference. On every trial, the spaceship appeared for half a second on a given point of its orbit, after which it disappeared. Participants had to click on the position where they thought it would reappear in the next trial. After their choice, a red dot indicated the location they selected and a red circle a fixed margin of error. At the same time, the spaceship showed up in its new position. If it fell inside the red circle, it turned red indicating the new location was accurately predicted or remained the same color otherwise. There was no time limit for participants to emit their responses. This sequence was repeated throughout the experiment. Moreover, if the spaceship gave a full lap in a counterclock-wise direction, i.e., moving 2π rad, the second lap would continue from 2π rad to 4π rad, and so on. Similarly if the spaceship completed a full lap in a clockwise direction, its next position was given according to values of the previous lap. We followed the same logic to register participant’s responses. This transformation allowed the range of possible values of observations and responses to span from -∞ to ∞, and was particularly useful to avoid sudden -->
<!-- changes of position from 2π rad to 0 every time a full lap was completed.'' -->
<!-- > -->

# Data description

The data from this experiment is stored in the following `.RData` file:

```{r}
load("./archive/abrupt_gradual.Rdata")
```

This loads an object called `ag` which holds the data in four dimensions:

- First dimension (rows) indicate trial count
- Second dimension (columns) indicate the variables observed
- Third dimension (pages) indicates the condition
- Fourth dimension (repetition) indicates the participant.

```{r}
dim(ag)
```

```{r, echo=FALSE}
I <- dim(ag)[4]
J <- dim(ag)[3]
K <- dim(ag)[1]
colnames(ag) <- c("resp", "true", "mean", "velocity", "change", "rt")

p <- 15
c <- 1
```

There were `r I` participants in this experiment, which completed `r K` trials of each of the `r J` conditions included, with a total of `r ncol(data)` variables being recorded per trial. We'll describe these variables upon looking at the first 5 observations collected for participant `r p` in condition `r c`:

```{r, echo=FALSE}
ag[1:5,,c,p]
```

For each trial, we collect the following information:

1. Predicted location (`resp`) - The response the participant gave when trying to predict the location of the spaceship on the next trial, measured in radians.
2. The true location (`true`) - The location (in radians) of the spaceship that the participant observes.
3. Mean location (`mean`) - The mean (in radians) of the Normal distribution from where the locations observed on every trial are observed.
4. Velocity (`velocity`) - 
5. Change-points (`change`) - A binary variable indicating whether a change has occured or not
6. RTs (`rt`) - Response time in seconds

The four conditions are described below.

## Conditions

There are four different experimental conditions in this experiment. To discuss each one of them 

```{r}
data_stationary <- ag[,,1,]
data_abrupt <- ag[,,2,]
data_gradual <- ag[,,3,]
data_mixed <- ag[,,4,]
```

### Stationary 


```{r}
unique(data_stationary[,"change",])
```

```{r}
unique(data_stationary[,"mean",])
```


### Abrupt

```{r}
abrupt_change <- data_abrupt[,"change",]
apply(abrupt_change, 2, table)
```

## Gradual

## Mixed